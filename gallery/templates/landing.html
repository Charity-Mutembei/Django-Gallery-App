{%extends 'base.html'%}
{% load bootstrap4 %}
{% load static%}
{%block content%}
<style>
  .modal{
    display: none;
    position:fixed;
    z-index:1;
    left: 36px;
    top: 1px;
    border-radius: 40px;
    padding: 30px;
    width: 30%;
    height: 100%; 
    overflow: auto; 
    background-color: white; 
  }
  .share-link{
    display: none;
    position:fixed;
    z-index:1;
    left: 50%;
    top: 1px;
    border-radius: 40px;
    padding: 30px;
    width: 30%;
    height: 100%; 
    overflow: auto; 
    background-color: white; 
  }
</style>
<body style="overflow-x: hidden;">
  <div class="content" name="content">
    <div class="top">
      <div class="search">
        <form class="d-flex">
          <input class="form-control me-2" id="search"role="search" type="search" placeholder="Search" name="call" action="{% url 'welcome' %}" aria-label="Search">
        </form>
       
      </div>
      <div class="mess">
        <h1>Enjoy the ride</h1>
        <h2>and share what you like with your friends</h2>
      </div>
    </div>
    <div class="cl">
      <div class="crads">
        <h1>Gallery</h1>
      </div>
      <div class="images">
        {%for gallery_image in images%}
       
          <img class="card-img-top" id="trigger" src="{{gallery_image.image_photo.url}}" alt="Card image cap" style="width: 250px; height: 400px; border-radius: 20px;" data-toggle="modal" data-target="#myModal" >
       

        {%endfor%}
      </div>
      {%for gallery_image in images%}

      <!-- Modal  -->
      <div id="myModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="card mb-3" class="modal-content" style="max-width: 540px;">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <div class="row g-0">
                <div class="col-md-4">
                  <img class="card-img-top" id="trigger" src="{{gallery_image.image_photo.url}}" alt="Card image cap"
                    style="width: 300px; height: 400px; border-radius: 20px; margin-left: 25%;" class="img-fluid rounded-start" alt="...">

                  <div class="share">
                    <i class="fa fa-share-alt" aria-hidden="true" id="trigger" style="color: black;"> Share</i>
                  </div>
                </div>
                <div class="col-md-8">
                  <div class="card-body" style="color: black;">
                    <h1 class="card-title">{{gallery_image.name}}</h1>
                    <p class="card-text">{{gallery_image.description}}</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
      
      
      
        </div>
      </div>

      <!-- modal2  -->
      <div class="share-link" class="modal fade" role="dialog">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
       <div class="modal-content">
       
        <div class="span"></div>
        <div class="col-md-8">
          <div class="card-body" style="color: black;">
            <p class="card-text">{{image.description}}</p>
          </div>
        </div>
       </div>

      </div>


    </div>

    {%endfor%}

  
  </div>
 
 <script>
   // get the modal
var modal = document.getElementById("myModal");
var modal2 = document.getElementsByClassName("share-link");

//get the trigger

var trigger = document.getElementById("trigger");


//get the button element that closes the modal
var btn = document.getElementsByClassName("close")[0];

//when the user clicks on the image/button, open the modal
trigger.onclick = function(){
    modal.style.display = 'block';

}


//when the user clicks on the button (x), close the modal
btn.onclick = function(){
    modal.style.display = 'none';

}


//when the user clicks anywhere outside of the modal, close it
window.onclick = function(event){
    if(event.target == modal){
        modal.style.display = 'none';
    }
}
 </script>

</body>
{%endblock%}
